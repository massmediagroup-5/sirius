{% if pageCount > 1 %}
    <ul>
        {% if pageCount > 8 and pageCount - current < 4 %}
            {% if previous is defined %}
                <li class="prev"><a href="{{ path(route, query|merge({(pageParameterName): previous})) }}"><i></i></a></li>
            {% endif %}
            <li><a href="{{ path(route, query|merge({(pageParameterName): 1})) }}">1</a></li>
            <li><a href="{{ path(route, query|merge({(pageParameterName): 2})) }}">2</a></li>
            <li><span>...</span></li>
            {% for i in 4..0 %}
                <li class="{% if pageCount - i == current %} active {% endif %}"><a href="{{ path(route, query|merge({(pageParameterName): pageCount - i})) }}">{{pageCount - i}}</a></li>
            {% endfor %}
            {% if next is defined %}
                <li class="next"><a href="{{ path(route, query|merge({(pageParameterName): next})) }}"><i></i></a></li>
            {% endif %}
        {% elseif pageCount > 8 and current < 5 %}
            {% if previous is defined %}
                <li class="prev"><a href="{{ path(route, query|merge({(pageParameterName): previous})) }}"><i></i></a></li>
            {% endif %}
            {% for i in 1..5 %}
                <li class="{% if i == current %} active {% endif %}"><a href="{{ path(route, query|merge({(pageParameterName): i})) }}">{{ i }}</a></li>
            {% endfor %}
            <li><span>...</span></li>
            <li><a href="{{ path(route, query|merge({(pageParameterName): pageCount - 1})) }}">{{pageCount - 1}}</a></li>
            <li><a href="{{ path(route, query|merge({(pageParameterName): pageCount})) }}">{{pageCount}}</a></li>
            <li class="next"><a href="{{ path(route, query|merge({(pageParameterName): next})) }}"><i></i></a></li>
        {% elseif(pageCount > 8) %}
            {% if previous is defined %}
                <li class="prev"><a href="{{ path(route, query|merge({(pageParameterName): previous})) }}"><i></i></a></li>
            {% endif %}
            <li><a href="{{ path(route, query|merge({(pageParameterName): 1})) }}">1</a></li>
            <li><a href="{{ path(route, query|merge({(pageParameterName): 2})) }}">2</a></li>
            <li><span>...</span></li>
            <li><a href="{{ path(route, query|merge({(pageParameterName): current - 1})) }}">{{current - 1}}</a></li>
            <li class="active"><a href="{{ path(route, query|merge({(pageParameterName): current})) }}">{{current}}</a></li>
            <li><a href="{{ path(route, query|merge({(pageParameterName): current + 1})) }}">{{current + 1}}</a></li>
            <li><span>...</span></li>
            <li><a href="{{ path(route, query|merge({(pageParameterName): pageCount - 1})) }}">{{pageCount - 1}}</a></li>
            <li><a href="{{ path(route, query|merge({(pageParameterName): pageCount})) }}">{{pageCount}}</a></li>
            <li class="next"><a href="{{ path(route, query|merge({(pageParameterName): next})) }}"><i></i></a></li>
        {% else %}
            <li class="prev"><a href="{{ path(route, query|merge({(pageParameterName): 1})) }}"><i></i></a></li>
            {% for i in 1..pageCount %}
                <li class="{% if i == current %} active {% endif %}"><a href="{{ path(route, query|merge({(pageParameterName): i})) }}">{{i}}</a></li>
            {% endfor %}
            <li class="next"><a href="{{ path(route, query|merge({(pageParameterName): pageCount})) }}"><i></i></a></li>
        {% endif %}
    </ul>
{% endif %}
